{% extends 'base.html.twig' %}
{% import 'macros/alertes.html.twig' as utils %}

{% block body %}
  <header xmlns="http://www.w3.org/1999/html">
    {% include 'menu/main_nav.html.twig' with {'position': 'static'} %}
  </header>

  <div class="container mainContent my-3">

    <div class="card m-auto" style="width: 18rem;">
      <div class="card-body">
        <h5 class="card-title text-center">Connexion</h5>

        {% if error %}
          <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
        {% endif %}

        <form name="login" action="{{ path('user_login') }}" method="post">
          <div class="mb-3">
            <label for="login_username" class="form-label required">Email</label>
            <input type="email" id="login_username" name="_username" required
                   maxlength="255" class="form-control" value="{{ last_username }}">
          </div>
          <div class="mb-3">
            <label for="login_password" class="form-label required">Mot de passe</label>
            <input type="password" id="login_password" name="_password" required
                   maxlength="255" class="form-control">
          </div>
          <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
          <a href="{{ path('user_registration') }}">Pas de compte ? Cr√©ez-en un !</a>
          <button type="submit" class="btn btn-secondary my-2">Se connecter</button>
        </form>
      </div>
    </div>

  </div>
{% endblock %}